---
const {
  title,
  subtitle,
  cover,
  link,        // поле для внешней или внутренней ссылки
  impact = [],
  badge,
} = Astro.props;
---

<div class="rounded-3xl border border-gray-200 bg-white p-5 md:p-6 shadow-sm">
  <!-- Обложка -->
  {cover && (
    <div class="rounded-2xl bg-gray-100 overflow-hidden mb-5">
      <img src={cover} alt={title} class="w-full aspect-[16/9] object-cover" loading="lazy" />
    </div>
  )}

  <!-- Контент -->
  <div>
    <div class="flex items-center gap-2">
      <h3 class="case-title">{title}</h3>   <!-- Заголовок кейсов -->
      {badge && <span class="text-xs px-2 py-1 rounded-full bg-gray-900 text-white">{badge}</span>}
    </div>

    {subtitle && <p class="mt-1 text-gray-600">{subtitle}</p>}

    {impact?.length > 0 && (
      <ul class="mt-3 text-gray-700 text-[15px] space-y-1">
        {impact.map((line) => (
          <li class="pl-5 relative">
            <span class="absolute left-0 top-2 h-1.5 w-1.5 rounded-full bg-gray-400"></span>
            {line}
          </li>
        ))}
      </ul>
    )}

    <!-- Ссылка внутри карточки (если задана) -->
    {link && (
      <div class="mt-5">
        <a
          href={link}
          target={link.startsWith('http') ? '_blank' : '_self'}
          class="inline-flex items-center gap-2 text-sm text-blue-600 underline underline-offset-4 hover:text-blue-500"
        >
          Открыть подробнее →
        </a>
      </div>
    )}
  </div>
</div>
